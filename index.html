<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>ğŸ§  DmWin Color Assistant</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <style>
    body {
      margin: 0;
      font-family: Arial, sans-serif;
      background: linear-gradient(180deg, #020617, #020024);
      color: #e5e7eb;
    }

    .container {
      max-width: 420px;
      margin: auto;
      padding: 16px;
    }

    h1 {
      font-size: 22px;
      margin-bottom: 4px;
    }

    .sub {
      font-size: 13px;
      opacity: 0.7;
      margin-bottom: 14px;
    }

    .box {
      background: rgba(255,255,255,0.04);
      border: 1px solid #1e3a8a;
      border-radius: 14px;
      padding: 14px;
      margin-bottom: 14px;
      box-shadow: 0 0 14px rgba(0,0,0,0.4);
    }

    .status {
      font-weight: bold;
      color: #22c55e;
    }

    .prediction {
      font-size: 18px;
      margin-top: 6px;
    }

    .wait {
      color: #facc15;
    }

    .lock {
      color: #fb7185;
    }

    .green { color: #22c55e; }
    .red { color: #ef4444; }
    .violet { color: #c084fc; }

    ul {
      padding-left: 18px;
      margin: 8px 0 0;
    }

    li {
      font-size: 14px;
      margin-bottom: 4px;
    }

    .stats {
      font-size: 14px;
      margin-top: 6px;
    }

    .footer {
      font-size: 12px;
      opacity: 0.5;
      margin-top: 20px;
      text-align: center;
    }
  </style>
</head>

<body>
  <div class="container">

    <h1>ğŸ§  DmWin Color Assistant</h1>
    <div class="sub">ğŸ“š Education / analysis only</div>

    <div class="box">
      ğŸš¦ Status: <span class="status">LIVE</span><br>
      â±ï¸ Auto refresh every <b>60 seconds</b>
    </div>

    <div class="box">
      ğŸ¯ <b>Prediction</b>
      <div id="prediction" class="prediction wait">WAIT â³</div>
      <div id="biasText" class="sub">âš ï¸ Violet risk high</div>
    </div>

    <div class="box">
      ğŸ“Š <b>Stats</b>
      <div class="stats" id="stats">
        âœ… Wins: 0 | âŒ Losses: 0 | ğŸ¯ Accuracy: 0%
      </div>
    </div>

    <div class="box">
      ğŸ§¾ <b>Latest Results</b>
      <ul id="results"></ul>
    </div>

    <div class="footer">
      âš ï¸ No guarantees â€¢ Avoid over betting â€¢ Stay disciplined
    </div>

  </div>

<script>
  // ====== MOCK DATA (replace later with API if needed) ======
  let history = [
    { id: "20260128100010621", color: "red" },
    { id: "20260128100010620", color: "green" },
    { id: "20260128100010619", color: "green" },
    { id: "20260128100010618", color: "green" },
    { id: "20260128100010617", color: "green,violet" }
  ];

  let wins = 0;
  let losses = 0;
  let lastPrediction = null;

  const predictionEl = document.getElementById("prediction");
  const resultsEl = document.getElementById("results");
  const statsEl = document.getElementById("stats");

  function renderResults() {
    resultsEl.innerHTML = "";
    history.slice(0,5).forEach(r => {
      let cls = r.color.includes("green") ? "green" :
                r.color.includes("red") ? "red" : "violet";
      resultsEl.innerHTML += `<li class="${cls}">${r.id} â†’ ${r.color}</li>`;
    });
  }

  function makePrediction() {
    let greens = history.filter(h => h.color.includes("green")).length;
    let reds = history.filter(h => h.color.includes("red")).length;

    if (greens >= 3) {
      lastPrediction = "red";
      predictionEl.innerHTML = "ğŸ”´ RED";
      predictionEl.className = "prediction red";
    } else if (reds >= 3) {
      lastPrediction = "green";
      predictionEl.innerHTML = "ğŸŸ¢ GREEN";
      predictionEl.className = "prediction green";
    } else {
      lastPrediction = null;
      predictionEl.innerHTML = "WAIT â³";
      predictionEl.className = "prediction wait";
    }
  }

  function evaluateResult() {
    if (!lastPrediction) return;
    let latest = history[0].color;
    if (latest.includes(lastPrediction)) wins++;
    else losses++;
  }

  function updateStats() {
    let total = wins + losses;
    let acc = total ? Math.round((wins / total) * 100) : 0;
    statsEl.innerHTML =
      `âœ… Wins: ${wins} | âŒ Losses: ${losses} | ğŸ¯ Accuracy: ${acc}%`;
  }

  // ====== TIMER SYNC ======
  let timer = 60;
  setInterval(() => {
    timer--;

    if (timer === 15) {
      predictionEl.innerHTML = "ğŸ”’ LOCKED";
      predictionEl.className = "prediction lock";
    }

    if (timer <= 0) {
      evaluateResult();
      makePrediction();
      updateStats();
      renderResults();
      timer = 60;
    }
  }, 1000);

  // INIT
  renderResults();
  makePrediction();
  updateStats();
</script>

</body>
</html>
