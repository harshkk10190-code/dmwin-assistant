<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>ğŸ§  DmWin Smart Assistant</title>

<style>
body{
  margin:0;
  font-family:system-ui,sans-serif;
  background:linear-gradient(180deg,#050b1f,#0b1535);
  color:#e8ecff;
}
.container{max-width:420px;margin:20px auto;padding:16px}
.card{
  background:#0e1a3a;
  border:1px solid #1f3b8f;
  border-radius:12px;
  padding:14px;
  margin-bottom:14px;
}
.green{color:#2ecc71}
.red{color:#ff4d4d}
.violet{color:#c77dff}
.wait{color:#f1c40f}
.small{opacity:.7;font-size:13px}

.heatmap{
  display:grid;
  grid-template-columns:repeat(10,1fr);
  gap:6px;
  margin-top:8px;
}
.dot{
  width:100%;
  aspect-ratio:1/1;
  border-radius:50%;
}
.dot.green{background:#2ecc71}
.dot.red{background:#ff4d4d}
.dot.violet{background:#c77dff}
</style>
</head>

<body>
<div class="container">

<h1>ğŸ§  DmWin Smart Assistant</h1>
<div class="small">ğŸ“˜ Education / analysis only</div>

<div class="card">
ğŸŸ¢ <b>Status:</b> LIVE<br>
â± <span id="countdown">Syncing clockâ€¦</span>
</div>

<div class="card" id="colorBox">â³ Loading color AIâ€¦</div>
<div class="card" id="sizeBox">â³ Loading Big/Small AIâ€¦</div>

<div class="card">
ğŸ“Š <b>Heatmap (Last 50 Rounds)</b>
<div id="heatmap" class="heatmap"></div>
</div>

<div class="small">âš ï¸ No guarantees â€¢ Avoid over betting â€¢ Stay disciplined</div>
</div>

<script>
const API="https://draw.ar-lottery01.com/WinGo/WinGo_1M/GetHistoryIssuePage.json?pageNo=1&pageSize=50";

function colorOf(n){
  if(n==0) return "violet";
  if(n==5) return "violet";
  return n%2===0?"red":"green";
}
function sizeOf(n){ return n<=4?"small":"big"; }

// â± CLOCK SYNC
setInterval(()=>{
  const s=new Date().getSeconds();
  document.getElementById("countdown").innerText =
    `â³ ${60-s}s remaining`;
},1000);

// ğŸ¯ COLOR AI
function colorAI(list){
  let g=0,r=0,v=0;
  list.slice(0,8).forEach((i,idx)=>{
    const w=8-idx;
    const c=colorOf(i.number);
    if(c==="green") g+=w;
    if(c==="red") r+=w;
    if(c==="violet") v++;
  });

  const diff=Math.abs(g-r);
  const confidence=Math.min(100,diff*8);

  if(v>=2) return {action:"WAIT",reason:"Violet risk"};
  if(g>=28||r>=28) return {action:"WAIT",reason:"Strong streak"};
  if(confidence<60) return {action:"WAIT",reason:"Low confidence"};

  return g>r
    ? {action:"GREEN",confidence}
    : {action:"RED",confidence};
}

// ğŸ“ BIG / SMALL AI
function sizeAI(list){
  let big=0,small=0;
  list.slice(0,6).forEach(i=>{
    sizeOf(i.number)==="big"?big++:small++;
  });

  if(big>=4) return "SMALL";
  if(small>=4) return "BIG";
  return "WAIT";
}

async function tick(){
  const r=await fetch(API);
  const j=await r.json();
  const list=j.data.list;

  // COLOR
  const c=colorAI(list);
  colorBox.innerHTML = c.action==="WAIT"
    ? `ğŸ¯ Color AI: <span class="wait">WAIT</span><br><span class="small">${c.reason}</span>`
    : `ğŸ¯ Color AI: <b class="${c.action.toLowerCase()}">${c.action}</b><br>ğŸ”¥ Confidence: ${c.confidence}%`;

  // SIZE
  const s=sizeAI(list);
  sizeBox.innerHTML =
    s==="WAIT"
    ? `ğŸ“ Big/Small AI: <span class="wait">WAIT</span>`
    : `ğŸ“ Big/Small AI: <b>${s}</b>`;

  // HEATMAP
  heatmap.innerHTML=list.map(i=>{
    const c=colorOf(i.number);
    return `<div class="dot ${c}"></div>`;
  }).join("");
}

tick();
setInterval(tick,60000);
</script>
</body>
</html>
